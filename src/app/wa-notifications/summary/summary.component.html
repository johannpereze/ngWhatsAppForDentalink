<div class="mt-6" *ngIf="componentVisibility.summary">
  <p-card>
    <h3>Resumen del envío:</h3>
    <div>
      <div><b>Línea de WhatsApp: </b>+57{{ mainParams.selectedLine }}</div>
      <div><b>Plantilla: </b>{{ mainParams.selectedTemplateName }}</div>
      <div><b>Nota del envío: </b>{{ mainParams.campaignNote }}</div>
      <div><b>Fecha de las citas: </b>{{ mainParams.appointmentsDate }}</div>
    </div>
    <div>
      <h3>
        {{ componentVisibility.progressBarLabel }}:
        {{ allAppointments.appointments.length }}
      </h3>
      <div *ngIf="componentVisibility.progressBarDynamicShow">
        <p-progressBar [value]="progressBar.progressBarValue"></p-progressBar>
      </div>
      <div>
        <p-progressBar
          *ngIf="componentVisibility.progressBarIndeterminatedShow"
          mode="indeterminate"
        ></p-progressBar>
      </div>
      <br />
      <button
        class="mr-2"
        pButton
        label="{{ loadButtonText }}"
        [disabled]="loadButtonDisabled"
        (click)="showTemplateWithData()"
      ></button>
      <button
        pButton
        label="Enviar Mensajes"
        [disabled]="sendButtonDisabled"
        (click)="sendWhatsAppBroadcast()"
      ></button>
      
    </div>
  </p-card>
</div>

<div class="mt-6" *ngIf="componentVisibility.summary">
  <p-card>
    <h3>Mensajes a enviar:</h3>
    <div *ngFor="let template of templatesWithData" class="mt-2 mb-2">
      <p-card class="card">
        {{ template.template }}

        <p-divider></p-divider>
        <div>
          <p-tag [value]="template.sendedLabel" [icon]="template.sendedIcon" [severity]="template.sendedSeverity" class="mr-2"></p-tag>
          <p-tag [value]="template.updatedDentalinkLabel" [icon]="template.updatedDentalinkIcon" [severity]="template.updatedDentalinkSeverity"></p-tag>
        </div>
      </p-card>
    </div>
  </p-card>
</div>




<!-- {{templatesWithData | json}} -->